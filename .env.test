# Test Environment Configuration
# This file is used for testing only - production data is never affected

NODE_ENV=test
PORT=3099

# Test Database - uses in-memory MongoDB via mongodb-memory-server
# The MONGO_URI below is a placeholder; tests use MongoMemoryServer
MONGO_URI=mongodb://localhost:27018/notification_service_test

# Test Redis - uses ioredis-mock in unit tests
REDIS_URL=redis://localhost:6380

# Test Kafka - fully mocked in tests
BROKERS=localhost:9093

# API Authentication
NS_API_KEY=test-api-key-for-testing

# Limits
MAX_BATCH_REQ_LIMIT=1000
DELAYED_PARTITION=1
NOTIFICATION_STATUS_PARTITION=1

# Worker Configuration
WORKER_ID=test-worker
OUTBOX_POLL_INTERVAL_MS=1000
OUTBOX_CLEANUP_INTERVAL_MS=5000
OUTBOX_BATCH_SIZE=10
OUTBOX_RETENTION_MS=60000
OUTBOX_CLAIM_TIMEOUT_MS=5000

# Idempotency & Retry
IDEMPOTENCY_TTL_SECONDS=86400
MAX_RETRY_COUNT=3
PROCESSING_TTL_SECONDS=120

# Delayed Worker
MAX_POLLER_RETRIES=3
DELAYED_POLL_INTERVAL_MS=1000
DELAYED_BATCH_SIZE=10

# Logging - Disabled in tests
LOKI_URL=
LOG_LEVEL=error
LOG_TO_FILE=false
