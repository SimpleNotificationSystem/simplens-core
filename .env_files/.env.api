# ============================================
# API Server Environment Variables
# ============================================
# The API server handles HTTP requests for /notification and /notification/batch endpoints.

# Node Environment (development, production, test)
NODE_ENV=production

# Server Port
PORT=3000

# MongoDB Connection (with replica set for transactions)
# Local: mongodb://localhost:27017/notification_service?replicaSet=rs0
# Docker: mongodb://mongo:27017/notification_service?replicaSet=rs0
MONGO_URI=mongodb://mongo:27017/notification_service?replicaSet=rs0

# Redis Connection (for rate limiting, idempotency, delayed queue)
# Local: redis://localhost:6379 | Docker: redis://redis:6379
REDIS_URL=redis://redis:6379

# Kafka Brokers (comma-separated)
# Local: localhost:9092 | Docker: kafka:9093
BROKERS=kafka:9093

# API Authentication Key
# Generate with: openssl rand -base64 32
# IMPORTANT: Change this in production!
NS_API_KEY=dev-api-key-change-in-production

# Maximum notifications per batch request
MAX_BATCH_REQ_LIMIT=1000

# Kafka Topic Partitions (increase for higher throughput)
EMAIL_PARTITION=1
WHATSAPP_PARTITION=1
DELAYED_PARTITION=1
NOTIFICATION_STATUS_PARTITION=1

# Logging - Grafana Loki
LOKI_URL=http://loki:3100
LOG_LEVEL=info
