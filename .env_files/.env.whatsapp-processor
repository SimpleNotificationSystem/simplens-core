# ============================================
# WhatsApp Processor Environment Variables
# ============================================
# Consumes from whatsapp_notification topic and sends WhatsApp messages.

# Node Environment
NODE_ENV=production

# MongoDB Connection
MONGO_URI=mongodb://mongo:27017/notification_service?replicaSet=rs0

# Redis Connection
REDIS_URL=redis://redis:6379

# Kafka Brokers
BROKERS=kafka:9093

# Rate Limiting (Token Bucket Algorithm)
WHATSAPP_RATE_LIMIT_TOKENS=50     # Max tokens in bucket
WHATSAPP_RATE_LIMIT_REFILL_RATE=5 # Tokens added per second

# Retry Configuration
MAX_RETRY_COUNT=5                 # Max retries before marking as failed
IDEMPOTENCY_TTL_SECONDS=86400     # Keep idempotency keys for 24 hours
PROCESSING_TTL_SECONDS=120        # Processing lock timeout (2 minutes)

# Logging
LOKI_URL=http://loki:3100
LOG_LEVEL=info
