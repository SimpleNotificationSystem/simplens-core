# ============================================
# Email Processor Environment Variables
# ============================================
# Consumes from email_notification topic and sends emails via SMTP.

# Node Environment
NODE_ENV=production

# MongoDB Connection
MONGO_URI=mongodb://mongo:27017/notification_service?replicaSet=rs0

# Redis Connection
REDIS_URL=redis://redis:6379

# Kafka Brokers
BROKERS=kafka:9093

# Email SMTP Configuration
EMAIL_HOST=smtp.gmail.com         # SMTP host
EMAIL_PORT=587                    # 587 for TLS, 465 for SSL
EMAIL_USER=                       # SMTP username/email (REQUIRED)
EMAIL_PASS=                       # SMTP password or app-specific password (REQUIRED)
EMAIL_FROM=                       # Sender email (defaults to EMAIL_USER)

# Rate Limiting (Token Bucket Algorithm)
EMAIL_RATE_LIMIT_TOKENS=100       # Max tokens in bucket
EMAIL_RATE_LIMIT_REFILL_RATE=10   # Tokens added per second

# Retry Configuration
MAX_RETRY_COUNT=5                 # Max retries before marking as failed
IDEMPOTENCY_TTL_SECONDS=86400     # Keep idempotency keys for 24 hours
PROCESSING_TTL_SECONDS=120        # Processing lock timeout (2 minutes)

# Logging
LOKI_URL=http://loki:3100
LOG_LEVEL=info
